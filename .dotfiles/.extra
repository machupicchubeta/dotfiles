_PID=$$; _PPID=$(ps -o ppid -p $_PID | tail -n 1)

# Add tab completion for SSH hostnames based on ~/.ssh/config, ignoring wildcards
if ps -p $_PPID | grep -qs bash ; then
    [ -e "$HOME/.ssh/config" ] && complete -o "default" -o "nospace" -W "$(grep "^Host" ~/.ssh/config | grep -v "[?*]" | cut -d " " -f2)" scp sftp ssh

    complete -C aws_completer aws
    eval "$(direnv hook $0)"
fi

if which rbenv > /dev/null; then eval "$(rbenv init -)"; fi

source ~/perl5/perlbrew/etc/bashrc

eval "$(hub alias -s)"

export export LESS='-R'
export LESSOPEN='| /usr/local/bin/src-hilite-lesspipe.sh %s'

eval $(gdircolors ~/Tools/seebi/dircolors-solarized)

PS1="$PS1"'$([ -n "$TMUX" ] && tmux setenv TMUXPWD_$(tmux display -p "#D" | tr -d %) "$PWD")'

